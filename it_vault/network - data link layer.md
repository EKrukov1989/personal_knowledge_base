Канальный уровень уместно рассматривать на примере Ethernet.
Ethernet - это семейство технологий передачи данных (a не протокол). Согласно модели OSI соответствует канальному уровню.

## 1. Кадры

На канальном уровне обмениваются кадрами (frames).
Формат Ethernet-кадра version 2:
![[1024px-Ethernet_Type_II_Frame_format.svg.png]]
MAC-адрес - это уникальный идентификатор сетевой карты, благодаря чему можно ее идентифицировать в сети.

В Ethernet для передачи кадров не устанавливается соединение и не отправляются подтверждения о получении кадров.

## 2. Представление о сети на канальном уровне

На канальном уровне мы можем представлять себе сеть, как совокупность хостов, которые соединены кабелями через хабы.
![[2-Razlichnye-varianty.jpg]]
Хаб (концентратор), работает на физическом уровне и просто передает полученный сигнал во всех направлениях. Таким образом любой отправленный сигнал придет на все хосты. Если физический адрес получателя совпадет с физическим адресом хоста - он примет кадр, иначе - проигнорирует.
Такая схема не слишком эффективна, поэтому были придуманы мосты и коммутаторы.

#### Мост
Мост соединяет две подсети. При получении кадра из одной подсети он проверяет физический адрес назначения и если он предназначен для второй подсети, то передает этот кадр во вторую подсеть.

#### Коммутатор
Коммутатор связывает между собой несколько хостов и помнит физические адреса всех хостов с которыми он соединен. Когда к нему приходит кадр, то он проверяет физический адрес назначения и сразу отправляет кадр нужному хосту.

В настоящее время используются только коммутаторы. Мосты и коммутаторы делают эту систему куда более эффективной, но не меняют принцип работы.

## 3. Обучение коммутатора
Сетевая карта хоста отправляет кадры всем, поэтому ей не нужно знать о том какие физические адреса присутствуют в сети.
Коммутатор же должен как-то узнать mac-адреса устройств, которые подключены к его портам. Делается это следующим образом:
- В момент первого подключения таблицы коммутатора пусты, он ничего не знает об окружающих хостах.
- Когда к нему приходит кадр, он запоминает адрес откуда он пришел и связывает этот порт с этим адресом. Кадр перенаправляет во все остальные порты.
- Таким образом постепенно таблица коммутатора заполняется.
