___
Основано на https://en.cppreference.com/w/cpp/language/value_category

>[!note] Несмотря на свое название `value categories` классифицируют выражения.

Каждое выражение в C++ характеризуется двумя независимыми категориями:
- `type` -> причем `non-reference type`
- `value category` -> `prvalue`, `xvalue` или `lvalue`

Всего сейчас есть пять видов категорий выражений:
- primary categories: `prvalue`, `xvalue`, `lvalue`
- mixed categories: `glvalue`, `rvalue`

Отношения между категориями выражены на следующей схеме:

![[value_categories.png]]

В C++11 категорий отражает две независимые характеристики:
- наличие сущности (has identity)
- способность к перемещению (can be moved from)

>[!tip]
>Принято считать, что объект имеет сущность, если можно получить его адрес.

В соответствии с этими характеристиками мы можем разделить все выражения на три категории:

category | has identity | can be moved from
-|-|-
`xvalue`|yes|yes
`lvalue`|yes|no 
`prvalue`|no|yes

Выражения без сущности и которые не могут быть перемещены - не используются.

Выражение, которое имеют сущность - называются `glvalue`.
Выражение, способное к перемещению - называются `rvalue`.

`glvalue` -> выражение, которое выражает определенную сущность
`prvalue` -> вычисляет операнд встроенного оператора (нет резалт обдж)
	-> инициализирует объекта (есть резалт обджект)
`xvalue`
`lvalue`

`rvalue`

___
### 1. lvalue

Примеры:
- имя переменной, функции, члена структуры
- вызов функции, которая возвращает `lvalue reference`
- результат обращения к элементу массива
- строковый литерал
- и многие другие

___
### 2. prvalue

Примеры:
- литерал (но не строковый литерал)
- вызов функции, которая возвращает `non-reference`
- результат арифметического выражения
- результат логического выражения
- и многие другие

___
### 3. xvalue

Примеры:
- член rvalue-объекта
- тернарный оператор

>[!tip]
>Не нужно путать тип переменной и тип выражения.
>```C++
>int&& a = foo();  // тип переменной a -> rvalue reference of int
>auto b = a;  // категория выражения a -> lvalue
>```
