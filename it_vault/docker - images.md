___
Docker-engine управляет набором сущностей, в первую очередь образами и контейнерами.

Образ - это своеобразный снапшот контейнера.

При запуске контейнера docker ищет указанный образ локально. Если локально найти не удалось, тогда скачивает из регистра.

Образ можно идентифицировать двумя способами:
- 12-значное шестнадатиричное число
- имя образа в виде: `<repositoryname>:tag`. Если тэг не указан, то по умолчанию latest 

Для пользовательских репозиториев имя репозитория всегда начинается с имени пользователя: `<username>/<userreponame>:tag`

Образ можно создать либо с помощью команды `docker commit`, либо с помощью Dockerfile ([[docker - Dockerfile]]). Чтобы собрать образ из докерфайла нужно выполнить команду:
```bash
docker build -t <username>/<userreponame>:<tag> [-f dockerfilename] PATH | URL
```
Причем:
- `PATH` - путь к директории, где находится докерфайл
- `-f dockerfilename` - имя докерфайла (по умолчанию - `Dockerfile`)
- если тэг не указан, то по умолчанию будет добавлен тэг - `latest`

>[!note]
>Docker кэширует все образы, в том числе промежуточные образы после выполнения каждой инструкции. Чтобы не использовать кэш - `--no-cache`.

___
### Команды для работы с образами

`docker pull <imagename>`
- скачать образ из регистра (нужный образ может быть скачан автоматически, но такм образом можно скачать заранее)
`docker search <somestring>`
- найти все репозитории в регистре имена которых содержат `<somestring>`
`docker images`
- вывести таблицу образов
`docker rmi image_id`
- удалить образ
`docker save -o image_file image_id`
- сохранить образ в архив
`docker load -i image_file`
- загрузить образ из архива