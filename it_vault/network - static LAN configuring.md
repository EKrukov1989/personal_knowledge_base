Для того, чтобы создать локальную сеть нужно обеспечить физическое соединение (с помощью проводов или же wi-fi сети), а также назначить хостам в этой сети правильные IP-адреса.

С помощью [[command - ip address]] можно узнать какие есть интерфейсы и какие им назначены IP-адреса. 

Также с помощью команды можно назначить другие IP-адреса. Например:
`ip address add <new_ip_address> dev <device_name>`
Однако эти изменения будет действовать только до перезагрузки системы. Иногда этого достаточно, но для того, чтобы изменения сохранились надолго - следует прописать их в конфигурационных файлах.

### Пример конфигурирование простой Ethernet-сети со статическими IP-адресами

Допустим у нас есть локальная сеть. Несколько компьютеров соединены между собой с помощью коммутаторов и Ethernet-кабелей.

1. Выбираем диапазон адресов для локальной сети, например: 192.168.213.0/24. 

>[!tip]
>Диапазон адрессов для локальной сети следует выбирать из зарезервиранных адресов (private addresses, [[network - NAT]]).

>[!tip]
>Важно, чтобы выбранный диапазон не переекался с диапазонами других локальных сетей, в которых также будут работать устройства этой сети.

Например:
- Мы соединяем с помощью ethernet-кабеля ноутбук и компьютер.
- Ноутбук имеет wifi-интерфейс и ethernet-интерфейс, компьютер только ethernet-интерфейс.
- Ноутбук подключен к wi-fi сети 192.168.212.0/24.
Тогда мы можем выбрать для такой локальной сети любой диапазон и зарезервированного диапазона адресов ([NAT](app://obsidian.md/NAT)), при условии, что он не пересекается с 192.168.212.0/24.

2. Для каждого компьютера нужно выбрать адрес из диапазона и прописать его руками. Например на ubuntu с помощью netplan это делается вот так:

Изменения в файле: `/etc/netplan/01-network-manager-all.yaml`. ([[network - netplan]])
```
# Let NetworkManager manage all devices on this system
network:
  version: 2
  renderer: NetworkManager
  ethernets:
    enp3s0:
      addresses:
        - 192.168.213.100/24

```

>[!tip]
>Чтобы немедленно применить изменения: `sudo netplan apply`

>[!tip]
>Желательно дополнительно ограничить доступ к конфигам:
>`sudo chmod go-rwx 00-installer-config.yaml 01-network-manager-all.yaml`

3. Для удобства можно на каждом компьютере в локальной сети прописать имена других компьютеров.

Допустим у нас есть в сети три хоста, которые мы назовем `host_1, host_2, host_3`, с адресами 192.168.213.100, 200 и 300, соответственно. На каждом из этих хостов нужно прописать имена всех остальных компьютеров. Например, на `host_1` в файле `/etc/hosts` нужно добавить соответствующие строчки:
```
127.0.0.1 localhost
127.0.1.1 host_1
192.168.213.100 host_1
192.168.213.200 host_2
192.168.213.300 host_3
```

4. Настроить firewall на компьютерах в сети ([[network - iptables]], [[network - UFW]])
