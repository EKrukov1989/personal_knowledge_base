
>[!note]
>hardlink <->жесткая ссылка
>softlink <-> symbolic link <-> мягкая ссылка <-> символическая ссылка

### how to create
```
ln <target_path> <link_name>  # сделать жесткую ссылку
ln -s <target_path> <link_name>  # сделать символическую ссылку
```

### hardlink
Файл в unix-filesystem представляет собой структуру на диске, которая имеет уникальный дескриптор (inode) и метаинформацию. Можно посмотреть inode файла с помощью команды: `ls -i`.

Жесткая ссылка это как shared_ptr на файл. Когда мы создаем файл, то получаем один shared_ptr, который хранит inode. Этому shared_ptr мы присваиваем имя, храним его в какой-то папке и воспринимает как файл, но на самом деле - все, что мы считаем файлами, это жесткие ссылки.

Если удалить одну из жестких ссылок, то остальные ссылки остаются валидными и файл не удалится, пока не будут удалены все жесткие ссылки.

>[!note] 
>Можно узнать количество жестких ссылок с помощью команды `ls -l` или команды `stat <filename>`. 

>[!info]
>С помощью команды `ls -l` можно также посмотреть количество ссылок для директории. Оно должно быть равно количество поддиректорий (с учетом `.` и `..`).

>[!note]
>Жесткие ссылки ссылаются на индексный дескриптор, поэтому нельзя создать жесткую ссылку на файл в катологе другого раздела.

>[!note]
>Нельзя создавать жесткие ссылки на директории. Так сделано по ряду причин:
>А. чтобы избежать циклических зависимостей
>Б. чтобы у каждого файла был только один родитель, иначе нельзя идентифицировать файл с помощью пути

### softlink
Мягкая ссылка это как weak_ptr на файл. Мягкая ссылка может ссылаться на файл, директорию, директорию на другом разделе диска, на несуществующий файл. Можно даже создать мягкую ссылку на еще несуществующий файл.
