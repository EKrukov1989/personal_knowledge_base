___
`git config` - инструмент, с помощью которого можно управлять конфигурационными опциями git из командной строки.

>[!note]
>Чтобы не путать конфигурационные опции с опциями командной строки, в этой статье я буду называть их конф-опции.
___
### 1. Конфигурационные файлы

Все конф-опции хранятся в трех файлах:

название|путь к файлу|область применения
-|-|-
`system`|`/etc/gitconfig`|применяются для всех пользователей и всех репозиториев
`global`|`~/.gitconfig` или `~/.config/git/config`|для определенного пользователя и всех его репозиториев
`local`|`<working_directory>/.git/config`|для определенного репозитория

Чтобы прочитать или установить конф-опцию в определенном конфиге нужно использовать одну из опций: `--system`, `--global`, `--local`. Опцию `--local` использовать необязательно, так как по умолчанию используется именно этот конфиг.

При наличии одних и тех же переменных в разных конфигах, бОльший приоритет имеют более специфичные. Т.е. наивысший приоритет имеет `local` конфиг, затем `global`, и наименьший приоритет имеет `system`.

Можно посмотреть пути к конфигам с помощью команды:
```bash
git config --list --show-origin
```

Файлы `system` и `global` конфигов могут отсутствовать. `local` конфиг должен быть, в противном случае утилита `git config` не будет работать.

Имена конф-опций состоят из секции и ключа, раздаленных точкой:
`name = <section>.<key>`

В одном конфиге может хранится несколько записей с одинаковым именем, это совершенно валидно, такие конф-опции называются multiline.

___
### 2. Управление конф-опциями

##### 2.1. Просмотр значений

`git config --list`
- вывести все переменных и их значения в формате `name=VALUE`

>[!note]
>При использовании команды `git config --list` некоторые конф-опции могут быть выведены несколько раз. Данная команда выводит переменные из всех конфигов. Если дополнительно использовать флаг `--show-origin`, то для каждой переменной будет указан файл, из которого она была прочитана.

`git config <name>`
`git config --get <name>`
- вывести значение переменной `<name>`
- если использовать дополнительно опцию `--show-origin`, то будет также выведено имя конфигурационного файла, из которого было взято это значение
`git config --get-all <name>`
- вывести все значения переменных с `<name>` из всех конфигов
##### 2.2. Изменение значений

Добавление переменных и изменение значений проиходят единообразно.
Пользователь может добавить любую свою переменную в любой конфиг.

`git config --global <name> <value>`
- установить или создать переменную с именем `<name>` и значением `<value>`
`git config --add <name> <value>`
- добавить еще одно значение к существующей переменной
##### 2.3. Удаление значений

`--unset-all <name>` 
- удалить строку с `<name>` из конфига
`--unset-all`
- удалить все строки с `<name>` из конфига

___
### 3. Aliases

В сущности алиас это всего лишь переменная в секции `alias`.

Примеры:
`git config --global alias.co checkout`
- создать алиас для ключевого слова `checkout`
`git config --global alias.unstage 'reset HEAD --'`
- создать алиас для последовательности слов`'reset HEAD --'` 
`git config --global alias.visual '!gitk'`
- создать алиас для обращения к вызова внешней команды (в этом случае перед командой ставится восклицательный знак)

___
### 4. Особенности устройства конфигов

Если взглянуть внутри конфига, например `.git/config`, то можно обнаружить примерно следующую структуру:
```
[remote "origin"]
	url = git@github.com:username/repo.git
	fetch = +refs/heads/*:refs/remotes/origin/*
[branch "main"]
	remote = origin
	merge = refs/heads/main
```
На самом деле это не какой-то специальный синтаксис, придуманный для обозначения удаленныйх репозиториев и веток - это все переменные локального конфига.

Если мы введем команду `git config --local abc.def.ghi.jkl mno` и посмотрим что изменилось в конфиге, то обнаружим следующую запись:
```
[abc "def.ghi"]
	jkl = mno
```

Соответственно, те записи, которые были приведены выше можно записать и другим образом, в виде переменных:
```
remote.origin.url = git@github.com:username/repo.git
remote.origin.fetch = +refs/heads/*:refs/remotes/origin/*
branch.main.remote = origin
branch.main.merge = refs/heads/main
```

