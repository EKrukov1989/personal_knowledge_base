___

>[!warning] Это незаконченная статья!

Основано на https://en.cppreference.com/w/cpp/language/implicit_conversion

`implicit conversion` - неявное преобразование.

Неявное преобразование выполняется когда выражение определенного типа T1 используется в контексте, который не принимает этот тип, а принимает другой тип - Т2. Например:

```c++
// при использовании как аргумента функции, которая ожидает Т2
void foo(double t2);
int t1 = 1;
foo(t1);  // неявное преобразование

// при использовании как операнда с оператором, который ожидает Т2
short t1, t2 = 1, 2;
auto b = t1 + t2;

// при инициализации нового объекта типа Т2
short t1 = 1;
int t2 = t1;

// в том числе в return функции, которая возвращает Т2
int foo() {
	short t1;
	return t1; } // short неявно преобразуется к int

// в switch-выражении, T2 - целочисленный тип
short t1;
switch (t1) {}

// в if-выражении, T2 - bool
short t1;
if (t1)  // short неявно преобразуется к bool
```

___
### 1. Порядок преобразований

Неявное преобразование может состоять из нескольких этапов в следующем порядке:
1) последовательность стандартных преобразований
2) последовательность пользовательских преобразований
3) если хотя бы одно пользовательское преобразование произошло, допускается еще одна последовательность стандартных преобразований

Последовательность пользовательских преобразований может содержать либо один неявный конструктор или один вызов неявной функции преобразования (conversion function).

Последовательность стандартных преобразований содержит следующие шаги, в следующем порядке:
1) не более одного `lvalue-to-rvalue conversion`, `array-to-pointer conversion` или `function-to-pointer conversion`
2) не более одного `numeric promotion` или `numeric conversion`
3) не более одного `function pointer conversion`
4) не более одного `qualification conversion`.

При конверсии из одного неклассового типа в другой неклассовый тип могут использоваться только стандартные преобразования.

___
### 2. Краткое описание разных типов преобразований

##### 2.1. Сontextual conversions

Преобразование к bool в выражениях:
- if, while, for
- операторах !, &&, ||
- и так далее
Важно, что в этом преобразовании также рассматривается и явная функция преобразования к типу bool.

##### 2.2. lvalue-to-rvalue conversion

##### array-to-pointer conversion

##### function-to-pointer conversion

##### function pointer conversion

##### qualification conversion

Указатель может быть преобразован в указатель того же типа, но более cv-qualified.

##### numeric promotion
numeric promotion заслуживает отдельной статьи:

##### numeric conversion
numeric conversion заслуживает отдельной статьи: