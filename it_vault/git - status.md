___
В данной статье будут широко использоваться три понятия:
- рабочая директория
- выбранная версия
- индекс

В реальности только рабочая директория является директорией. Однако в рамках данной статьи мы будем считать, что все три эти сущности это директории с файлами.

Выбранная версия - рабочее дерево, которая записано в выбранном в данный момент коммите.

Индекс - рабочее дерево, которая будет получено если совершить коммит, то есть внести те изменения, которые сейчас находится в staged area.

Команда git status выводит информацию об изменениях:
- в рабочей директории относительно индекса
- индекса относительно выбранной версии
- а также untracked файлы и даже ignored файлы

Синтаксис: `git status [options]` 

___
### 1. Полный вывод

При вызове команды `git status` без опций вывод команды содержит:
- имя текущей ветки
- список staged файлов (`Changes to be committed`)
- список modified файлов (`Changes not staged for commit`)
- список untracked файлов (`Untracked files`)

Пример вывода:
```
On branch master
Changes to be committed:
  (use "git restore --staged <file>..." to unstage)
	new file:   readme.txt

Changes not staged for commit:
  (use "git add <file>..." to update what will be committed)
  (use "git restore <file>..." to discard changes in working directory)
	modified:   main.cpp

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	utils.h
```

___
### 2. Опции

`-v`
- дополнительно выводит diff для каждого из staged файлов

`-b`
- даже в кратком режиме выводить имя ветки

`--ignored`
- показывать ignored файлы

`-s`
- Краткий вывод можно получить с помощью опции: `git status -s`.

При использовании этой опции команда выводит список файлов, каждый из которых предварен парой символов, которые определяют его состояние.
Пример краткого вывода:
```
 M main.cpp
A  readme.txt
?? utils/utils.h
```
Такая пара символов называется status-code.

___
### 3. Статус-код

Статус-код файла состоит из двух символов, которые далее обозначены как XY.
Существует три различные ситуации и каждую из них следует рассмотреть отдельно.

##### 3.1. Untracked и ignored файлы

Для этих типов файлов статус коды всегда одинаковые:
`!!` - ignored файлы (показываеются только при опции `--ignored`)
`??` - untracked файлы
```
X          Y     Meaning
-------------------------------------------------
?           ?    untracked
!           !    ignored
-------------------------------------------------
```

##### 3.2. Ситуация вне мержа или успешный мерж

В этой ситуации XY имеют следующие значения:
- X - различие между индексом и выбранной версией
- Y - различие между рабочей директорией и индексом

Возможные символы `[ MTADRC]`.
Подробном рассматрим значения каждого из символов.
Будем считать, что у нас есть две директории - A и B. Мы сравниваем А с Б.

символ|имя|описание
-|-|-
`space`|unmodified|файл в директории A не отличается от файла в директории B 
`M`|modified|файл существует в обеих директориях, но отличается контентом
`T`|file type changed|файл существует в обеих директориях, но отличается типом (обычный файл, папка, символическая ссылка, субмодуль)
`A`|added|файл существует в A, но не существует в B
`D`|deleted|файл не существует в A, но существует в B
`R`|renamed|в A есть файл file1 и нет файла file2, а в B - наоборот. Причем файл file1 в A идентичен file2 в B
`C`|copied| такой символ возможен только если status.renames = "copies". По умолчанию - нет.

Рассмотрим распространенные состояния (для удобства пробел заменен на знак подчеркивания):
`_A` -> создан новый файл, но не добавлен в стэйдж
`A_` -> новый файл добавлен в стэйдж
`MM` -> существующий файл был изменен, застэджен, а затем снова изменен
`_D` -> закомиченный файл удален с помощью rm
`D_` -> закомиченный файл удален с помощью git rm

##### 3.3. Ситуация мержа

>[!warning] Merge situatuon позднее следует разъяснить.








