___
SSH-сертификат содержит два важных поля:
- `Key ID` (в мануалах его иногда называют certificate id)
- `Principals`

Поле `Principals` определяет набор имен, которые будут учитываться при предоставлении доступа.

Пример:
Юзер пытается подключиться к хосту. Юзер предоставляет сертификат, в котором указаны принципалы: `gene@example.com, admin@example.com`
На хосте в файле `authorized_keys` прописано следующee:
```
cert-authority,principals="admin@example.com" ssh-rsa ...
```
Так как в файле `authorized_keys` есть один из принципалов, то sshd будет рассматривать этот сертификат.

Также каждый сертификат имеет поле  Key ID.
Key ID не учитывается при предоставлении доступа. Его единственная задача - идентифицировать сертификат. Key ID записывается в логи при любом подключении, чтобы потом можно быть понять кто именно подключался, так как из принципалов это не всегда ясно.

___
### Рекомендации

Каждый принципал должен быть уникален.
Каждый Key ID должен быть уникален.

Принципал должен иметь следующую форму `[USER@]DOMAIN`.
- пример принципала юзера: `user1@example.com`
- пример принципала хоста: `host1.example.com`

Принципалы следует формировать так, чтобы потом их удобно было использовать в паттернах файлов allowed_signers, known_hosts и authorized_keys.

В качестве Key ID обычно выбирают имя пользователя.
Поэтому зачастую Key ID совпадает с одним из принципалов или даже с единственным принципалом.

Но если у одного пользователя несколько сертификатов - имеет смысл добавлять в Key ID дополнительную информацию.

