___
Команда, с помощью которой можно добавить локальные ключи в список ауторизации на удаленную машину.

Синтаксис:  `ssh-copy-id [options] [user@]hostname`

___
### 1. Порядок выполнения команды

Команда ssh-copy-id делает буквально следующее:

##### Этап I
Команда определяется со исходным списком ключей.
Если в команде указан `identitity_file`, то будет использован именно он.
Если в ssh-agent есть установленные ключи, то будут использованы они.
В противном случае будет использован default_ID_file.
default_ID_file определяется как самый новый файл, среди файлов, удовлетворяющих паттерну `~/.ssh/id*.pub` (кроме `~/.ssh/*-cert.pub`).

##### Этап II
Команда пытается установить ssh-соединение с помощью каждого из ключей из исходного списка. Если ssh-agent не установлен, то во время этого процесса команда будет спрашивать у пользователя passphrase от всех приватных ключей.

### Этап III
Все ключи, с помощью которых не удалось установить соединение, команда скопирует в `~/.ssh/authorized_keys` на удаленной машине.

___
### 2. Опции:

`-i identitity_file`
   - использовать только ключи, которые содержаться в `identitity_file`, в противном случае ssh-copy-id будет пробовать все ключи из ssh-add или из default_ID_file.
   - если `identitity_file` не заканчивается на `.pub`, команда все равно добавит к имени файла это расширение.

`-f`
   - не проверять невозможность установки соединения, сразу скопировать публичные ключи. В этом случае можно обойтись без приватного ключа.

`-n`
   - проверяет все ключи, но вместо того чтобы скопировать их на удаленную машину просто выводит список ключей, которые следует установить.

`-p port, -o option`
   - значения этих опций будут переданы в ssh-клиент для установки соединения

>[!tip]
>С учетом всей переусложненности всей это системы, лучше всегда использовать опцию `-i` и указывать публичный ключ напрямую.